<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>重走长征路</title>
    <link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css"/>
    <script src="http://cache.amap.com/lbs/static/es5.min.js"></script>
    <script src="http://webapi.amap.com/maps?v=1.3&key=47f40f8408db67bf666b689d9e3beef8&&plugin=AMap.Scale,AMap.OverView,AMap.ToolBar"></script>
    <script type="text/javascript" src="http://cache.amap.com/lbs/static/addToolbar.js"></script>
</head>
<body>
<div id="container"></div>
<div class='button-group' style="background-color: #0d9bf2;right: 20px">
    <input type="checkbox" onclick="toggleScale(this)"/>比例尺
    <input type="checkbox" id="overview" onclick="toggleOverViewShow(this)"/>显示鹰眼
    <input type="checkbox" id="overviewOpen" disabled onclick="toggleOverViewOpen(this)"/>展开鹰眼
</div>
<script type="text/javascript">
      var scale = new AMap.Scale({
        visible: false
    }),
    overView = new AMap.OverView({
        visible: false
    }),
    map = new AMap.Map("container", {
        resizeEnable: true,
          zoom:5,
        center: [104.397428, 34.90923]
        
    });
        var markers = [], positions = [[115.415624,25.95206], [111.101511,25.942776],[106.920737,27.688294], [102.284492,29.269415],[105.697665,28.591957], [102.384234,26.289777], [102.125638,29.642321], [102.230604,29.904251], [102.68539,30.859619],[102.363719,31.000355],[102.899507,33.671917],[103.922872,34.133042],[105.051156,35.691019],[108.198371,36.905873], [109.468179,36.61902]];
    for (var i = 0, marker; i < positions.length; i++) {
        marker = new AMap.Marker({
            map: map,
            position: positions[i]
        });
        markers.push(marker);
    }
        var lineArr = [
        ['115.415624','25.95206'], ['111.101511','25.942776'],['106.920737','27.688294'],['105.697665','28.591957'], ['102.384234','26.289777'],  ['102.284492','29.269415'],['102.125638','29.642321'], ['102.230604','29.904251'], ['102.68539','30.859619'],['102.363719','31.000355'],['102.899507','33.671917'],['103.922872','34.133042'],['105.051156','35.691019'],['108.198371','36.905873'], ['109.468179','36.61902']
    ];
    var polyline = new AMap.Polyline({
        path: lineArr,            // 设置线覆盖物路径
        strokeColor: '#3366FF',   // 线颜色
        strokeOpacity: 1,         // 线透明度
        strokeWeight: 2,          // 线宽
        strokeStyle: 'solid',     // 线样式
        strokeDasharray: [10, 5], // 补充线样式
        geodesic: true            // 绘制大地线
    });
    polyline.setMap(map);
      
    map.addControl(scale);
    map.addControl(overView);
    function toggleScale(checkbox) {
        if (checkbox.checked) {
            scale.show();
        } else {
            scale.hide();
        }
    }
    
    function toggleOverViewShow(checkbox) {
        if (checkbox.checked) {
            overView.show();
            document.getElementById('overviewOpen').disabled = false;
        } else {
            overView.hide();
            document.getElementById('overviewOpen').disabled = true;
        }
    }
    function toggleOverViewOpen(checkbox) {
        if (checkbox.checked) {
            overView.open();
        }
        else {
            overView.close();
        }
	}
     var lnglats = [
        [115.415624,25.95206], [111.101511,25.942776],[106.920737,27.688294], [102.284492,29.269415],[105.697665,28.591957], [102.384234,26.289777], [102.125638,29.642321], [102.230604,29.904251], [102.68539,30.859619],[102.363719,31.000355],[102.899507,33.671917],[103.922872,34.133042],[105.051156,35.691019],[108.198371,36.905873], [109.468179,36.61902]
    ];
    var infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -30)});
    for (var i = 0, marker; i < lnglats.length; i++) {
        var marker = new AMap.Marker({
            position: lnglats[i],
            map: map
        });
        switch(i)
        {
            case 0:marker.content = '<img src="http://static.statickksmg.com/image/2016/07/13/2a2c3ea8374ee1089dc17b231aa8868f.jpg" title="2a2c3ea8374ee1089dc17b231aa8868f.jpg" alt="江西.jpg"><h4>江西于都:</h4><p>于都县地处江西省赣州东部，是中央苏区时期中共赣南省委、赣南省苏维埃政府所在地，同时也是中央红军长征集结的出发地。<br>作为中央苏区最后一块根据地、南方三年游击战争起源地、长征精神的发源地以及中央苏区全红县之一和苏区精神的形成地之一，江西于都县一共诞生了16位共和国将军，为中国革命作出了特殊贡献和巨大牺牲。1934年10月，中央机关、中革军委和中央红军主力8.6万人集结于都，开始举世闻名的二万五千里长征，于都从此作为“地球上的红飘带”的起点载入史册并闻名世界。苏区时期，于都是筹钱筹粮最积极、出人出力最踊跃、受灾受难最深重的县份之一，25.5万人口的于都有超过10万人支前参战，有67709人参加红军，其中在于都集结出发长征的红军将士中每五个人就有一个于都人；于都为革命牺牲的有姓名可考的烈士达16336人，其中牺牲在长征路上的烈士达1.1万人。</p>';
        marker.on('click', markerClick);
        marker.emit('click', {target: marker});beak;
        case 2:marker.content = '<h3>延安:</h3><p>位于陕北金三角经济协作区腹地，昔日红军经过两万五千里长征最终落脚陕北延安，使长征精神薪火相传为延安精神。1938年11月至1947年3月，毛泽东等中央领导在此居住和办公，当时是中共中央机关的所在地。这期间，中共中央继续指挥抗日战争敌后战场并领导了解放战争，领导了大生产运动和整风运动，召开了党的“七大”和延安文艺座谈会。</p>';
        marker.on('click', markerClick);
        marker.emit('click', {target: marker});beak;
        }
        
    }
    function markerClick(e) {
        infoWindow.setContent(e.target.content);
        infoWindow.open(map, e.target.getPosition());
    }
    map.setFitView();
</script>
</body>
</html>